# æäº¤ç»™ABCé“¶è¡Œçš„é—®é¢˜åé¦ˆæŠ¥å‘Š

**å•†æˆ·åç§°**: ä¸ƒåŒ¹ç‹¼èµ„äº§ç®¡ç†  
**å•†æˆ·å·**: 103881636900016  
**æäº¤æ—¶é—´**: 2026å¹´1æœˆ19æ—¥ 09:58  
**é—®é¢˜çº§åˆ«**: é«˜ä¼˜å…ˆçº§  
**è”ç³»æ–¹å¼**: support@qsgl.net

---

## ä¸€ã€é—®é¢˜æ¦‚è¿°

æˆ‘æ–¹å·²å®Œæˆå†œè¡Œæ”¯ä»˜æ¥å£å¼€å‘å’Œéƒ¨ç½²ï¼ˆå«é¡µé¢æ”¯ä»˜å’Œä¸€ç å¤šæ‰«ï¼‰ï¼Œç³»ç»Ÿå¯æ­£å¸¸ä¸å†œè¡ŒæœåŠ¡å™¨é€šä¿¡ï¼Œä½†**æ‰€æœ‰äº¤æ˜“å‡è¿”å› EUNKWN é”™è¯¯ç **ã€‚

æ ¹æ®è´µè¡Œç¡®è®¤ï¼Œå•†æˆ· 103881636900016 å·²å¼€é€šï¼š
- âœ… ep241 å·²å¼€é€š
- âœ… æ”¯æŒä¸€ç å¤šæ‰«
- âœ… é¡µé¢æ”¯ä»˜æƒé™å·²å¼€é€š

ä½†å®é™…æµ‹è¯•ä¸­ï¼Œæ— è®ºæ˜¯ **PayReq**ï¼ˆé¡µé¢æ”¯ä»˜ï¼‰è¿˜æ˜¯ **OLScanPayOrderReq**ï¼ˆä¸€ç å¤šæ‰«ï¼‰ï¼Œå‡è¿”å›ç›¸åŒé”™è¯¯ã€‚

---

## äºŒã€æµ‹è¯•ç»“æœ

### æµ‹è¯•ç¯å¢ƒ
- **æœåŠ¡å™¨åœ°å€**: https://payment.qsgl.net
- **å†œè¡Œç¯å¢ƒ**: https://pay.abchina.com:443/ebus/ReceiveMerchantTrxReqServlet
- **æµ‹è¯•æ—¶é—´**: 2026å¹´1æœˆ19æ—¥ 09:58
- **è¯ä¹¦çŠ¶æ€**: å•†æˆ·è¯ä¹¦æœ‰æ•ˆï¼ˆè‡³2031å¹´ï¼‰ï¼ŒTrustPay.cerå·²è¿‡æœŸï¼ˆ2023-08-11ï¼‰

### æµ‹è¯•1: é¡µé¢æ”¯ä»˜ (PayReq)

**è®¢å•å·**: PAY20260119095816  
**HTTPçŠ¶æ€**: 200 OK  
**å“åº”æ—¶é—´**: 276.79 ms

**å†œè¡Œè¿”å›**:
```json
{
  "MSG": {
    "Message": {
      "Version": "V3.0.0",
      "Format": "JSON",
      "Common": {
        "Channel": "EBUS"
      },
      "Merchant": {
        "ECMerchantType": "EBUS",
        "MerchantID": ""
      },
      "TrxResponse": {
        "ReturnCode": "EUNKWN",
        "ErrorMessage": "äº¤æ˜“ç»“æœæœªçŸ¥ï¼Œè¯·è¿›è¡ŒæŸ¥è¯æ˜ç¡®äº¤æ˜“ç»“æœï¼ŒNo message available"
      }
    }
  }
}
```

**å…³é”®å‘ç°**:
- âœ… HTTPè¿æ¥æˆåŠŸï¼ˆ200 OKï¼‰
- âœ… ç­¾åæœªæŠ¥é”™ï¼ˆæœªè¿”å›APE400ï¼‰
- âœ… å•†æˆ·è¯†åˆ«æˆåŠŸï¼ˆæœªè¿”å›APE002ï¼‰
- âš ï¸ **PaymentURL æœªè¿”å›**ï¼ˆåº”è¿”å›æ”¯ä»˜é¡µé¢URLï¼‰
- âš ï¸ **MerchantID å­—æ®µä¸ºç©º**
- âš ï¸ é”™è¯¯æç¤º "No message available"

### æµ‹è¯•2: ä¸€ç å¤šæ‰« (OLScanPayOrderReq)

**è®¢å•å·**: SCAN20260119095816  
**HTTPçŠ¶æ€**: 200 OK  
**å“åº”æ—¶é—´**: 116.07 ms

**å†œè¡Œè¿”å›**: ä¸ PayReq å®Œå…¨ç›¸åŒçš„ EUNKWN é”™è¯¯

---

## ä¸‰ã€å‘é€çš„å®Œæ•´è¯·æ±‚æŠ¥æ–‡

### PayReq è¯·æ±‚ç¤ºä¾‹

```json
{
  "MSG": {
    "Message": {
      "Version": "V3.0.0",
      "Format": "JSON",
      "Merchant": {
        "ECMerchantType": "EBUS",
        "MerchantID": "103881636900016"
      },
      "TrxRequest": {
        "TrxType": "PayReq",
        "Order": {
          "PayTypeID": "ImmediatePay",
          "OrderNo": "PAY20260119095816",
          "OrderAmount": "10.00",
          "OrderDate": "2026/01/19",
          "OrderTime": "09:58:16",
          "OrderDesc": "Test Product - Page Payment",
          "CurrencyCode": "156",
          "CommodityType": "0201",
          "InstallmentMark": "0",
          "ExpiredDate": "30"
        },
        "OrderDetail": [
          {
            "ProductName": "Test Product - Page Payment",
            "UnitPrice": "10.00",
            "Qty": "1",
            "ProductRemarks": "Test Product - Page Payment"
          }
        ],
        "PaymentType": "A",
        "PaymentLinkType": "1",
        "NotifyType": "1",
        "ResultNotifyURL": "https://payment.qsgl.net/api/payment/abc/notify",
        "MerchantSuccessURL": "https://payment.qsgl.net/success",
        "MerchantErrorURL": "https://payment.qsgl.net/error",
        "IsBreakAccount": "0"
      }
    },
    "Signature-Algorithm": "SHA1withRSA",
    "Signature": "[ç­¾åå·²ç”Ÿæˆï¼Œé•¿åº¦344å­—èŠ‚]"
  }
}
```

### OLScanPayOrderReq è¯·æ±‚ç¤ºä¾‹

```json
{
  "MSG": {
    "Message": {
      "Version": "V3.0.0",
      "Format": "JSON",
      "Merchant": {
        "ECMerchantType": "EBUS",
        "MerchantID": "103881636900016"
      },
      "TrxRequest": {
        "TrxType": "OLScanPayOrderReq",
        "Order": {
          "PayTypeID": "ImmediatePay",
          "OrderNo": "SCAN20260119095816",
          "OrderAmount": "10.00",
          "OrderDate": "2026/01/19",
          "OrderTime": "09:58:16",
          "OrderDesc": "Test Product - Scan Payment",
          "CurrencyCode": "156",
          "CommodityType": "0201",
          "InstallmentMark": "0",
          "ExpiredDate": "30"
        },
        "OrderDetail": [
          {
            "ProductName": "Test Product - Scan Payment",
            "UnitPrice": "10.00",
            "Qty": "1",
            "ProductRemarks": "Test Product - Scan Payment"
          }
        ],
        "PaymentType": "A",
        "PaymentLinkType": "1",
        "NotifyType": "1",
        "ResultNotifyURL": "https://payment.qsgl.net/api/payment/abc/notify",
        "IsBreakAccount": "0"
      }
    },
    "Signature-Algorithm": "SHA1withRSA",
    "Signature": "[ç­¾åå·²ç”Ÿæˆ]"
  }
}
```

---

## å››ã€éœ€è¦è´µè¡Œç¡®è®¤çš„é—®é¢˜

### ğŸ”´ ç´§æ€¥é—®é¢˜

1. **EUNKWN é”™è¯¯çš„å…·ä½“åŸå› æ˜¯ä»€ä¹ˆï¼Ÿ**
   - æ˜¯æƒé™é…ç½®ä¸å®Œæ•´ï¼Ÿ
   - æ˜¯ç¼ºå°‘å¿…å¡«å­—æ®µï¼Ÿ
   - æ˜¯å‚æ•°å€¼ä¸æ­£ç¡®ï¼Ÿ
   - è¿˜æ˜¯å…¶ä»–ç³»ç»Ÿé…ç½®é—®é¢˜ï¼Ÿ

2. **ä¸ºä»€ä¹ˆå“åº”ä¸­ MerchantID å­—æ®µä¸ºç©ºï¼Ÿ**
   ```json
   "Merchant": {
     "ECMerchantType": "EBUS",
     "MerchantID": ""  // â† ä¸ºä»€ä¹ˆä¸ºç©ºï¼Ÿ
   }
   ```

3. **"No message available" æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ**
   - è¿™é€šå¸¸è¡¨ç¤ºä»€ä¹ˆç±»å‹çš„é”™è¯¯ï¼Ÿ
   - å¦‚ä½•è·å–æ›´è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯ï¼Ÿ

### ğŸŸ¡ é…ç½®ç¡®è®¤

4. **PayReq æ˜¯å¦è¿˜éœ€è¦é¢å¤–å­—æ®µï¼Ÿ**
   - ReceiveAccountï¼ˆæ”¶æ¬¾è´¦å·ï¼‰æ˜¯å¦å¿…å¡«ï¼Ÿ
   - ReceiveAccNameï¼ˆæ”¶æ¬¾æˆ·åï¼‰æ˜¯å¦å¿…å¡«ï¼Ÿ
   - VerifyFlagï¼ˆå®åéªŒè¯ï¼‰æ˜¯å¦å¿…å¡«ï¼Ÿ
   - å…¶ä»–éšè—çš„å¿…å¡«å­—æ®µï¼Ÿ

5. **å‚æ•°å€¼æ˜¯å¦æ­£ç¡®ï¼Ÿ**
   - CommodityType = "0201"ï¼ˆè™šæ‹Ÿå•†å“ï¼‰æ˜¯å¦å…è®¸ï¼Ÿ
   - PaymentType = "A"ï¼ˆå€Ÿè´·è®°å¡åˆå¹¶ï¼‰æ˜¯å¦æ­£ç¡®ï¼Ÿ
   - PaymentLinkType = "1"ï¼ˆç”µè„‘ç½‘ç»œï¼‰æ˜¯å¦æ­£ç¡®ï¼Ÿ

6. **å›è°ƒURLæ˜¯å¦éœ€è¦é¢„å…ˆç™»è®°ï¼Ÿ**
   - ResultNotifyURL: https://payment.qsgl.net/api/payment/abc/notify
   - MerchantSuccessURL: https://payment.qsgl.net/success
   - MerchantErrorURL: https://payment.qsgl.net/error
   - è¿™äº›URLæ˜¯å¦éœ€è¦åœ¨è´µè¡Œç³»ç»Ÿä¸­é¢„å…ˆé…ç½®ï¼Ÿ

### ğŸŸ¢ è¯ä¹¦é—®é¢˜

7. **TrustPay.cer è¯ä¹¦å·²è¿‡æœŸï¼ˆ2023-08-11ï¼‰ï¼Œæ˜¯å¦éœ€è¦æ›´æ–°ï¼Ÿ**
   - å½“å‰ä½¿ç”¨çš„è¯ä¹¦ä¸»é¢˜: CN=MainServer.0001
   - æœ‰æ•ˆæœŸè‡³: 2023/08/11 13:38:49
   - æ˜¯å¦å½±å“äº¤æ˜“ï¼Ÿ
   - å¦‚ä½•è·å–æ–°è¯ä¹¦ï¼Ÿ

### ğŸ”µ ç¯å¢ƒç¡®è®¤

8. **å•†æˆ·åº”è¯¥ä½¿ç”¨å“ªä¸ªç¯å¢ƒï¼Ÿ**
   - å½“å‰ä½¿ç”¨: https://pay.abchina.com:443ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰
   - æ˜¯å¦æ­£ç¡®ï¼Ÿè¿˜æ˜¯åº”è¯¥ä½¿ç”¨æµ‹è¯•ç¯å¢ƒï¼Ÿ
   - æµ‹è¯•ç¯å¢ƒURLæ˜¯ä»€ä¹ˆï¼Ÿ

---

## äº”ã€å·²ç¡®è®¤æ­£å¸¸çš„éƒ¨åˆ†

âœ… **ç½‘ç»œè¿æ¥**: HTTP 200 OKï¼Œå“åº”æ—¶é—´æ­£å¸¸ï¼ˆ116-277msï¼‰  
âœ… **è¯ä¹¦ç­¾å**: æœªè¿”å› APE400 é”™è¯¯ï¼Œè¯´æ˜ç­¾åéªŒè¯é€šè¿‡  
âœ… **å•†æˆ·è¯†åˆ«**: æœªè¿”å› APE002 é”™è¯¯ï¼Œè¯´æ˜å•†æˆ·å·è¢«ç³»ç»Ÿè¯†åˆ«  
âœ… **è¯·æ±‚æ ¼å¼**: æœªè¿”å› APE009 é”™è¯¯ï¼Œè¯´æ˜JSONæ ¼å¼æ­£ç¡®  
âœ… **TrxTypeä¿®æ­£**: å·²ä» OrderReq æ”¹ä¸º PayReqï¼ˆå‚è€ƒå®˜æ–¹ç¤ºä¾‹ï¼‰  
âœ… **ä»£ç éƒ¨ç½²**: æœ€æ–°ä»£ç å·²éƒ¨ç½²åˆ°ç”Ÿäº§æœåŠ¡å™¨

---

## å…­ã€æœŸæœ›è´µè¡Œæä¾›çš„æ”¯æŒ

1. **EUNKWNé”™è¯¯çš„æ ¹æœ¬åŸå› åˆ†æ**
2. **å®Œæ•´çš„PayReqå’ŒOLScanPayOrderReqå‚æ•°æ¸…å•**ï¼ˆå«æ‰€æœ‰å¿…å¡«å’Œå¯é€‰å­—æ®µï¼‰
3. **æˆåŠŸçš„è¯·æ±‚æŠ¥æ–‡ç¤ºä¾‹**ï¼ˆè„±æ•åï¼‰
4. **å•†æˆ·é…ç½®æ£€æŸ¥ç»“æœ**ï¼ˆåå°é…ç½®æˆªå›¾æˆ–æ¸…å•ï¼‰
5. **æ›´æ–°çš„TrustPay.cerè¯ä¹¦**ï¼ˆå¦‚éœ€è¦ï¼‰
6. **æŠ€æœ¯è”è°ƒæ”¯æŒ**ï¼ˆç”µè¯æˆ–è¿œç¨‹ååŠ©ï¼‰

---

## ä¸ƒã€é™„ä»¶æ¸…å•

1. **å®Œæ•´æµ‹è¯•æŠ¥å‘Š**: ABC_Test_Report_20260119_095816.md
2. **éƒ¨ç½²çŠ¶æ€æ–‡æ¡£**: Deployment_Status_Report.md
3. **APIå‚æ•°æ–‡æ¡£**: ABC_API_Parameters_Reference.md
4. **æœåŠ¡å™¨æ—¥å¿—**: å¯æŒ‰éœ€æä¾›æœ€è¿‘çš„äº¤äº’æ—¥å¿—

---

## å…«ã€è”ç³»ä¿¡æ¯

**æŠ€æœ¯è´Ÿè´£äºº**: æŠ€æœ¯å›¢é˜Ÿ  
**è”ç³»é‚®ç®±**: support@qsgl.net  
**è”ç³»ç”µè¯**: [è¯·å¡«å†™]  
**æœåŠ¡å™¨åœ°å€**: https://payment.qsgl.net  
**æœŸæœ›å“åº”æ—¶é—´**: 1-2ä¸ªå·¥ä½œæ—¥  
**ç´§æ€¥ç¨‹åº¦**: é«˜ï¼ˆç³»ç»Ÿå·²å¼€å‘å®Œæˆï¼Œç­‰å¾…ä¸Šçº¿ï¼‰

---

## ä¹ã€æ—¶é—´çº¿

| æ—¶é—´ | äº‹ä»¶ |
|------|------|
| 2026-01-15 | å¼€å§‹å¼€å‘å†œè¡Œé¡µé¢æ”¯ä»˜æ¥å£ |
| 2026-01-17 | å®Œæˆä»£ç å¼€å‘ï¼Œéƒ¨ç½²åˆ°æœåŠ¡å™¨ |
| 2026-01-18 | é¦–æ¬¡æµ‹è¯•ï¼Œå‘ç°404é”™è¯¯ï¼Œä¿®æ­£éƒ¨ç½²é…ç½® |
| 2026-01-18 | ä¿®æ­£TrxTypeä»OrderReqæ”¹ä¸ºPayReq |
| 2026-01-19 | é‡æ–°éƒ¨ç½²ï¼Œæ¥å£å¯è®¿é—®ä½†è¿”å›EUNKWN |
| 2026-01-19 09:00 | ABCé“¶è¡Œç¡®è®¤æƒé™å·²å¼€é€š |
| 2026-01-19 09:58 | å®Œæˆè¯Šæ–­æµ‹è¯•ï¼Œæäº¤æ­¤æŠ¥å‘Š |

---

**æ„Ÿè°¢è´µè¡Œçš„æ”¯æŒä¸é…åˆï¼**

æˆ‘æ–¹å¼€å‘å›¢é˜Ÿéšæ—¶å¾…å‘½ï¼Œå¯é…åˆè¿›è¡ŒæŠ€æœ¯è”è°ƒå’Œé—®é¢˜æ’æŸ¥ã€‚æœŸå¾…è´µè¡Œå°½å¿«åé¦ˆï¼Œä»¥ä¾¿æˆ‘ä»¬èƒ½å¤ŸæŒ‰è®¡åˆ’ä¸Šçº¿æœåŠ¡ã€‚

---

**æŠ¥å‘Šç”Ÿæˆæ—¶é—´**: 2026å¹´1æœˆ19æ—¥ 09:58  
**æŠ¥å‘Šç‰ˆæœ¬**: v1.0  
**ç”Ÿæˆå·¥å…·**: ABC Payment Gateway Diagnosis Script
